"use client"

import { useEffect, useRef } from "react"

export function MorphingBlob() {
  const pathRef = useRef<SVGPathElement>(null)

  useEffect(() => {
    const path = pathRef.current
    if (!path) return

    const morphShapes = [
      "M44.7,-76.4C58.8,-69.2,71.8,-59.1,79.6,-45.8C87.4,-32.6,90,-16.3,89.8,-0.2C89.6,15.9,86.6,31.8,78.9,45.2C71.2,58.6,58.8,69.5,44.7,76.4C30.6,83.3,15.3,86.2,-0.1,86.3C-15.5,86.4,-31,83.7,-45.1,76.8C-59.2,69.9,-71.9,58.8,-79.7,45.4C-87.5,32,-90.4,16.3,-90.2,0.2C-90,-15.9,-86.7,-31.8,-78.9,-45.2C-71.1,-58.6,-58.8,-69.5,-44.7,-76.4C-30.6,-83.3,-15.3,-86.2,0.1,-86.3C15.5,-86.4,31,-83.7,44.7,-76.4Z",
      "M39.9,-69.8C52.1,-63.2,62.5,-50.8,69.8,-36.9C77.1,-23,81.3,-7.6,80.2,7.2C79.1,22,72.7,36.2,63.2,48.1C53.7,60,41.1,69.6,26.8,75.8C12.5,82,-3.5,84.8,-19.2,82.2C-34.9,79.6,-50.3,71.6,-62.4,59.8C-74.5,48,-83.3,32.4,-86.6,15.8C-89.9,-0.8,-87.7,-18.4,-80.9,-33.2C-74.1,-48,-62.7,-60,-48.8,-66.6C-34.9,-73.2,-18.4,-74.4,-1.8,-71.6C14.8,-68.8,27.7,-76.4,39.9,-69.8Z",
      "M35.2,-58.9C45.8,-52.3,54.7,-41.2,61.2,-28.4C67.7,-15.6,71.8,-1.1,70.8,12.8C69.8,26.7,63.7,40,54.2,50.8C44.7,61.6,31.8,69.9,17.6,74.4C3.4,78.9,-12.1,79.6,-26.8,75.8C-41.5,72,-55.4,63.7,-65.2,52.2C-75,40.7,-80.7,26,-81.8,10.8C-82.9,-4.4,-79.4,-20.1,-71.8,-33.2C-64.2,-46.3,-52.5,-56.8,-39.4,-62.2C-26.3,-67.6,-11.8,-67.9,1.4,-70.1C14.6,-72.3,24.6,-65.5,35.2,-58.9Z",
    ]

    let currentIndex = 0
    const morphInterval = setInterval(() => {
      currentIndex = (currentIndex + 1) % morphShapes.length
      path.setAttribute("d", morphShapes[currentIndex])
    }, 3000)

    return () => clearInterval(morphInterval)
  }, [])

  return (
    <div className="absolute top-20 right-20 w-96 h-96 opacity-20 pointer-events-none">
      <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" className="w-full h-full">
        <defs>
          <linearGradient id="morphGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stopColor="#8B5CF6" />
            <stop offset="50%" stopColor="#EC4899" />
            <stop offset="100%" stopColor="#06B6D4" />
          </linearGradient>
        </defs>
        <path
          ref={pathRef}
          fill="url(#morphGradient)"
          d="M44.7,-76.4C58.8,-69.2,71.8,-59.1,79.6,-45.8C87.4,-32.6,90,-16.3,89.8,-0.2C89.6,15.9,86.6,31.8,78.9,45.2C71.2,58.6,58.8,69.5,44.7,76.4C30.6,83.3,15.3,86.2,-0.1,86.3C-15.5,86.4,-31,83.7,-45.1,76.8C-59.2,69.9,-71.9,58.8,-79.7,45.4C-87.5,32,-90.4,16.3,-90.2,0.2C-90,-15.9,-86.7,-31.8,-78.9,-45.2C-71.1,-58.6,-58.8,-69.5,-44.7,-76.4C-30.6,-83.3,-15.3,-86.2,0.1,-86.3C15.5,-86.4,31,-83.7,44.7,-76.4Z"
          transform="translate(100 100)"
          className="transition-all duration-1000 ease-in-out"
        />
      </svg>
    </div>
  )
}
